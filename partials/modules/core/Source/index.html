
<h1 class="class export">Source <span class="type">class</span></h1>
<p><p>A <code>Source</code> represents an object that is used as a source on the stage.
Some possible sources are games, microphones, or a webpage.</p>
<p>Implements: <a href='#core/IItemLayout'>Core/IItemLayout</a></p>
<h3 id="basic-usage">Basic Usage</h3>
<pre><code class="lang-javascript">var xjs = require(&#39;xjs&#39;);
var Scene = xjs.Scene.getById(0);

Scene.getSources().then(function(sources) {
  if (sources.length === 0) return;

  // There&#39;s a valid source, let&#39;s use that
  var source = sources[sources.length - 1];
  return source.setCustomName(&#39;SourceTesting&#39;);
}).then(function(source) {
  // Do something else here
});
</code></pre>
<p>All methods marked as <em>Chainable</em> resolve with the original <code>Source</code> instance.
This allows you to perform sequential operations correctly:</p>
<pre><code class="lang-javascript">var xjs = require(&#39;xjs&#39;);
var Source = xjs.Source;

// a source that sets its own properties on load
xjs.ready()
   .then(Source.getCurrentSource)
   .then(function(source) {
    return source.setCustomName(&#39;MyCustomName&#39;);
 }).then(function(source) {
    return source.setKeepLoaded(true);
 }).then(function(source) {
    // set more properties here
 });
</code></pre>
</p><h2>Members</h2>
  <section class="member constructor">
    <h1 id="constructor" class="name">constructor</h1>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  </section>

  <section class="member">
    <a name="setName"><h1 id="setName" class="name">
      setName
    </h1></a>
    <pre><code>param: (value: string)
</code></pre>
<pre><code>return: Promise&lt;Source&gt;
</code></pre>
<p>Sets the name of the source.</p>
<p><em>Chainable.</em></p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.setName(&#39;newNameHere&#39;).then(function(source) {
  // Promise resolves with same Source instance when name has been set
  return source.getName();
}).then(function(name) {
  // &#39;name&#39; should be the updated value by now.
});
</code></pre>

  </section>


  <section class="member">
    <a name="getName"><h1 id="getName" class="name">
      getName
    </h1></a>
    <pre><code>return: Promise&lt;string&gt;
</code></pre>
<p>Gets the name of the source.</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getName().then(function(name) {
  // Do something with the name
});
</code></pre>

  </section>


  <section class="member">
    <a name="setCustomName"><h1 id="setCustomName" class="name">
      setCustomName
    </h1></a>
    <pre><code>param: (value: string)
</code></pre>
<pre><code>return: Promise&lt;Source&gt;
</code></pre>
<p>Sets the custom name of the source.</p>
<p>The main difference between <code>setName</code> and <code>setCustomName</code> is that the CustomName
can be edited by users using XBC through the bottom panel. <code>setName</code> on
the other hand would update the source&#39;s internal name property.</p>
<p><em>Chainable.</em></p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.setCustomName(&#39;newNameHere&#39;).then(function(source) {
  // Promise resolves with same Source instance when custom name has been set
  return source.getCustomName();
}).then(function(name) {
  // &#39;name&#39; should be the updated value by now.
});
</code></pre>

  </section>


  <section class="member">
    <a name="getCustomName"><h1 id="getCustomName" class="name">
      getCustomName
    </h1></a>
    <pre><code>return: Promise&lt;string&gt;
</code></pre>
<p>Gets the custom name of the source.</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getCustomName().then(function(name) {
  // Do something with the name
});
</code></pre>

  </section>


  <section class="member">
    <a name="getValue"><h1 id="getValue" class="name">
      getValue
    </h1></a>
    <pre><code>return: Promise&lt;string|XML&gt;
</code></pre>
<p>Gets a special string that refers to the source&#39;s main definition.</p>
<p>This method can resolve with an XML object, which is an object generated by
the framework. Call <code>toString()</code> to transform into an XML String. (See the
documentation for <code>setValue</code> for more details.)</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getValue().then(function(value) {
  // Do something with the value
});
</code></pre>

  </section>


  <section class="member">
    <a name="setValue"><h1 id="setValue" class="name">
      setValue
    </h1></a>
    <pre><code>param: (value: string)
</code></pre>
<pre><code>return: Promise&lt;Source&gt;
</code></pre>
<p>Set the source&#39;s main definition; this special string defines the source&#39;s
&quot;identity&quot;. Each type of source requires a different format for this value.</p>
<p><em>Chainable.</em></p>
<p><strong>WARNING:</strong>
Please do note that using this method COULD break the current source, possibly modifying
its type IF you set an invalid string for the current source.</p>
<h4 id="possible-values-by-source-type">Possible values by source type</h4>
<ul>
<li>FILE - path/URL</li>
<li>LIVE - Device ID</li>
<li>BITMAP - path</li>
<li>SCREEN - XML string</li>
<li>FLASHFILE - path</li>
<li>GAMESOURCE - XML string</li>
<li>HTML - path/URL or html:<plugin></li>
</ul>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.setValue(&#39;@DEVICE:PNP:\\?\USB#VID_046D&amp;amp;PID_082C&amp;amp;MI_02#6&amp;amp;16FD2F8D&amp;amp;0&amp;amp;0002#{65E8773D-8F56-11D0-A3B9-00A0C9223196}\GLOBAL&#39;)
  .then(function(source) {
  // Promise resolves with same Source instance
});
</code></pre>

  </section>


  <section class="member">
    <a name="getKeepLoaded"><h1 id="getKeepLoaded" class="name">
      getKeepLoaded
    </h1></a>
    <pre><code>return: Promise&lt;boolean&gt;
</code></pre>
<p>Check if source is kept loaded in memory</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getKeepLoaded().then(function(isLoaded) {
  // The rest of your code here
});
</code></pre>

  </section>


  <section class="member">
    <a name="setKeepLoaded"><h1 id="setKeepLoaded" class="name">
      setKeepLoaded
    </h1></a>
    <pre><code>param: (value: boolean)
</code></pre>
<pre><code>return: Promise&lt;Source&gt;
</code></pre>
<p>Set Keep loaded option to ON or OFF</p>
<p>Sources with Keep loaded set to ON would emit <code>scene-load</code> event each time
the active scene switches to the source&#39;s current scene.</p>
<p><em>Chainable.</em></p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.setKeepLoaded(true).then(function(source) {
  // Promise resolves with same Source instance
});
</code></pre>

  </section>


  <section class="member">
    <a name="getType"><h1 id="getType" class="name">
      getType
    </h1></a>
    <pre><code>return: Promise&lt;SourceTypes&gt;
</code></pre>
<p>Get the type of the source</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getType().then(function(type) {
  // The rest of your code here
});
</code></pre>

  </section>


  <section class="member">
    <a name="getId"><h1 id="getId" class="name">
      getId
    </h1></a>
    <pre><code>return: Promise&lt;string&gt;
</code></pre>
<p>Get the ID of the source</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getId().then(function(id) {
  // The rest of your code here
});
</code></pre>

  </section>


  <section class="member">
    <a name="getSceneId"><h1 id="getSceneId" class="name">
      getSceneId
    </h1></a>
    <pre><code>return: Promise&lt;number&gt;
</code></pre>
<p>Get (1-indexed) Scene ID where the source is loaded</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getSceneId().then(function(id) {
  // The rest of your code here
});
</code></pre>

  </section>


  <section class="member">
    <a name="getView"><h1 id="getView" class="name">
      getView
    </h1></a>
    <pre><code>return: Promise&lt;ViewTypes&gt;
</code></pre>
<p>Get the view type of the source</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">source.getView().then(function(view) {
  // view values:
  // 0 = main view
  // 1 = preview editor
  // 2 = thumbnail preview
})
</code></pre>

  </section>


  <section class="member">
    <a name="toXML"><h1 id="toXML" class="name">
      toXML
    </h1></a>
    <pre><code>return: XML
</code></pre>
<p>Convert the Source object to an XML object. Use <code>toString()</code> to
get the string version of the returned object.</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">var xml = source.toXML();
</code></pre>

  </section>


  <section class="member">
    <a name="refresh"><h1 id="refresh" class="name">
      refresh
    </h1></a>
     <pre><code>return: Promise&lt;Source&gt;
 </code></pre>
 <p>Refreshes the specified source.</p>
 <h4 id="usage">Usage</h4>
 <pre><code class="lang-javascript">// Sample 1: let source refresh itself
 xjs.Source.getCurrentSource().then(function(source) {
   source.refresh(); // execution of JavaScript halts because of refresh
 });
 
 // Sample 2: refresh some other source &#39;otherSource&#39;
 otherSource.refresh().then(function(source) {
   // further manipulation of other source goes here
 });
 </code></pre>
 
  </section>


  <section class="member">
    <a name="isKeepAspectRatio"><h1 id="isKeepAspectRatio" class="name">
      isKeepAspectRatio
    </h1></a>
          <p>See: <a href='#core/IItemLayout#isKeepAspectRatio'>isKeepAspectRatio</a></p>
      
  </section>


  <section class="member">
    <a name="isPositionLocked"><h1 id="isPositionLocked" class="name">
      isPositionLocked
    </h1></a>
          <p>See: <a href='#core/IItemLayout#isPositionLocked'>isPositionLocked</a></p>
      
  </section>


  <section class="member">
    <a name="isEnhancedResizeEnabled"><h1 id="isEnhancedResizeEnabled" class="name">
      isEnhancedResizeEnabled
    </h1></a>
          <p>See: <a href='#core/IItemLayout#isEnhancedResizeEnabled'>isEnhancedResizeEnabled</a></p>
      
  </section>


  <section class="member">
    <a name="getCanvasRotate"><h1 id="getCanvasRotate" class="name">
      getCanvasRotate
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getCanvasRotate'>getCanvasRotate</a></p>
      
  </section>


  <section class="member">
    <a name="getCropping"><h1 id="getCropping" class="name">
      getCropping
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getCropping'>getCropping</a></p>
      
  </section>


  <section class="member">
    <a name="getEnhancedRotate"><h1 id="getEnhancedRotate" class="name">
      getEnhancedRotate
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getEnhancedRotate'>getEnhancedRotate</a></p>
      
  </section>


  <section class="member">
    <a name="getPosition"><h1 id="getPosition" class="name">
      getPosition
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getPosition'>getPosition</a></p>
      
  </section>


  <section class="member">
    <a name="getRotateY"><h1 id="getRotateY" class="name">
      getRotateY
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getRotateY'>getRotateY</a></p>
      
  </section>


  <section class="member">
    <a name="getRotateX"><h1 id="getRotateX" class="name">
      getRotateX
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getRotateX'>getRotateX</a></p>
      
  </section>


  <section class="member">
    <a name="getRotateZ"><h1 id="getRotateZ" class="name">
      getRotateZ
    </h1></a>
          <p>See: <a href='#core/IItemLayout#getRotateZ'>getRotateZ</a></p>
      
  </section>


  <section class="member">
    <a name="setCanvasRotate"><h1 id="setCanvasRotate" class="name">
      setCanvasRotate
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setCanvasRotate'>setCanvasRotate</a></p>
      
  </section>


  <section class="member">
    <a name="setCropping"><h1 id="setCropping" class="name">
      setCropping
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setCropping'>setCropping</a></p>
      
  </section>


  <section class="member">
    <a name="setCroppingEnhanced"><h1 id="setCroppingEnhanced" class="name">
      setCroppingEnhanced
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setCroppingEnhanced'>setCroppingEnhanced</a></p>
      
  </section>


  <section class="member">
    <a name="setEnhancedRotate"><h1 id="setEnhancedRotate" class="name">
      setEnhancedRotate
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setEnhancedRotate'>setEnhancedRotate</a></p>
      
  </section>


  <section class="member">
    <a name="setKeepAspectRatio"><h1 id="setKeepAspectRatio" class="name">
      setKeepAspectRatio
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setKeepAspectRatio'>setKeepAspectRatio</a></p>
      
  </section>


  <section class="member">
    <a name="setPositionLocked"><h1 id="setPositionLocked" class="name">
      setPositionLocked
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setPositionLocked'>setPositionLocked</a></p>
      
  </section>


  <section class="member">
    <a name="setEnhancedResizeEnabled"><h1 id="setEnhancedResizeEnabled" class="name">
      setEnhancedResizeEnabled
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setEnhancedResizeEnabled'>setEnhancedResizeEnabled</a></p>
      
  </section>


  <section class="member">
    <a name="setPosition"><h1 id="setPosition" class="name">
      setPosition
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setPosition'>setPosition</a></p>
      
  </section>


  <section class="member">
    <a name="setRotateY"><h1 id="setRotateY" class="name">
      setRotateY
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setRotateY'>setRotateY</a></p>
      
  </section>


  <section class="member">
    <a name="setRotateX"><h1 id="setRotateX" class="name">
      setRotateX
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setRotateX'>setRotateX</a></p>
      
  </section>


  <section class="member">
    <a name="setRotateZ"><h1 id="setRotateZ" class="name">
      setRotateZ
    </h1></a>
          <p>See: <a href='#core/IItemLayout#setRotateZ'>setRotateZ</a></p>
      
  </section>


  <section class="member static">
    <a name="getCurrentSource"><h1 id="getCurrentSource" class="name">
      <code>static</code> getCurrentSource
    </h1></a>
    <pre><code>return: Promise&lt;Source&gt;
</code></pre>
<p>Get the current source (when function is called by sources), or the source
that was right-clicked to open the source properties window (when function is called
from the source properties window)</p>
<h4 id="usage">Usage</h4>
<pre><code class="lang-javascript">xjs.Source.getCurrentSource().then(function(source) {
  // This will fetch the current source (the plugin)
}).catch(function(err) {
  // Handle the error here. Errors would only occur
  // if we try to execute this method on Extension plugins
});
</code></pre>

  </section>

<p class="module defined-in">exported from <a href='#/core'>core</a><br/>
defined in <a href="https://github.com/xjsframework/xjs/tree/master/modules/../src/core/source/source.ts#L29-L625">../src/core/source/source.ts (line 29)</a>
</p>

