<html>
  <head>
    <title>XSplit JS Framework Quick Start</title>

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700italic,300,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/quickstart.css">

    <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/prism.js"></script>
    <script src="js/quickstart.js"></script>

    <link rel="import" href="polymer_elements/navbar/navbar.html">
    <link rel="import" href="polymer_elements/copyright/copyright.html">
  </head>
  <body>
    <xsplit-navbar></xsplit-navbar>

    <div id="header">
      Quick Start
    </div>

    <div id="container">
      <div id="left">
        <ul class="vertical-menu">
          <li>
            <a href="#intro">Introduction</a>
          </li>
          <li>
            <a href="#start">Installing XSplit JS Framework<code></a>
          </li>
          <li>
            <a href="#source">Creating your first Source Plugin</a>
          </li>
          <li>
            <a href="#extension">Creating your first Extension Plugin</a>
          </li>
          <li>
            <a href="#next">What's next?</a>
          </li>
          <li>
            <a href="#sample">Sample plugins</a>
          </li>
        </ul>
      </div>
      <div id="right">
        <a id="intro" name="intro">
          <h1>Introduction</h1>
        </a>
        <p>
          Plugins are important tools for extending the functionality of XSplit Broadcaster. In order to allow developers to create useful plugins for the community, we created the XSplit JS Framework to encapsulate the capabilities of the application in an easy-to-understand manner.
        </p>
        <p>
          We will walk you through on how to get started building your own XSplit Broadcaster plugin using this framework.
        </p>
        <a id="start" name="start">
          <h1>Installing XSplit JS Framework</h1>
        </a>
        <p>
          First, you will need the latest developer build of XSplit Broadcaster to use the XSplit JS Framework. The framework requires minimum XBC version 2.7.1512.2124, unless stated otherwise in the API documentation.
        </p>
        <div class="download-xbc">
            <a href="http://cdn2.xsplit.com/download/bc/m32/XSplit_Broadcaster_2.9.1701.1616.exe" title="Latest Developer Build">
            <span class="softwareIcon"></span>
            <span class="softwareInfo">
              <span class="softwareDownloadText">Download XSplit Broadcaster</span>
              <span class="softwareVersion">Version 2.9.1701.1616</span>
              <span class="softwareRelease">| Latest Official Build</span>
            </span>
            </a>
        </div>
        <p>
          You can install or start using the framework in a lot of ways, but fastest and the most basic way is to download <a href='http://cdn2.xsplit.com/xjs/download/2.1.1/xjs.js'><code>XSplit JS Framework</code></a>, add it on your project folder, import it on your html file, and you are good to go.
          Outlined below are simple demonstrations on how you can use the framework in creating your own <a href="#source">Source</a> or <a href="#extension">Extension</a> plugin.
        </p>
        <a id="source" name="source">
          <h2>Create a Source Plugin</h2>
        </a>
        <p>
          What is a Source plugin? Source plugins are objects that may be added to your presentation to be included in your streams and recordings.
        </p>
        <p>
          The image below is an example of a source plugin. This in particular, changes text once you start/stop a stream or recording.
        </p>
        <p class="center inner-padding-10">
          <img class="quick-img" src="assets/sample-source.gif">
        </p>
        <p>
          Demonstrated below, are the things needed to create this plugin.
          This example would use the <code>ChannelManager</code> class of the framework, that can be used to listen for the <code>stream-start</code> and <code>stream-end</code> of XSplit Broadcaster.
        </p>
<pre class="language-markup">
<code>
&lt;html&gt;
&lt;head&gt;
  &lt;link rel="stylesheet" href="css/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="stream-status"&gt;
  Stream is not Live
  &lt;/div"&gt;
  &lt;script src="js/xjs.js"&gt;&lt;/script&gt;
  &lt;script src="js/main.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
</pre>
<p>
  You can see above, we have set up an initial html file that imports the framework.
  We have also created a div that contains the intial text when the stream is not yet live/recording, and would change immediately when the stream would start.
</p>
<p>
  Next, we would now use the framework on our <code>main.js</code> file.
</p>
<pre class="language-javascript">
<code>
var xjs = require('xjs');

xjs.ready().then(function(){
  xjs.ChannelManager.on('stream-start', function(){
    document.getElementById('stream-status').innerHTML = 'Stream is Live';
  })

  xjs.ChannelManager.on('stream-end', function(){
    document.getElementById('stream-status').innerHTML = 'Stream is not Live';
  })
})</code>
</pre>
<p>
  <em>* We're assuming that you are knowledgeable with Promises in JavaScript. If you are not, please do check it out on <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">MDN</a> or other articles about Promise programming.</em>
</p>
<p>
  First, the framework is loaded and saved into the <code>xjs</code> variable. We would thenn access the frameworks <code>ready()</code> method; a method that returns a promise,
  which resolves when XSplit JS Framework is ready to use. Always make sure to do your development when the framework is ready!
</p>
<p>
  Let's disect the code further...
</p>
XSplit Broadcaster emits an event <code>stream-start/end</code>, and the <code>ChannelManager</code> class has access to listen to these events.
<pre class="language-javascript">
<code>
xjs.ChannelManager.on('stream-start')

xjs.ChannelManager.on('stream-end')</code>
</pre>
<p>
  Here, we include a handler that would make the action when the your stream has started/stopped. Since, this class would only listen
  to when the event would be emitted, we would have to set it here as to what should be done when it happens.
</p>
<pre class="language-javascript">
<code>
function(){
    document.getElementById('stream-status').innerHTML = 'Stream is not Live/Live';
  }</code>
</pre>
<p>
  And then, you can create a CSS file and update how your plugin would look like.
  For this example, I set the background-color as transparent for it to blend in with the scene and only the text would be visible.
</p>
<pre class="language-css">
<code>
body {
  background-color: transparent;
  color: white;
}</code>
</pre>
<p>
  Once, you are done with all of this, you would have to add and test your plugin. You can simply drag the index.html file to the stage or add it as a media file:
</p>
<p class="center inner-padding-10">
  <img class="quick-img" src="assets/add-media.png">
  <img class="quick-img" src="assets/add-media-2.png">
</p>
<p>
  And there you have it, your very first Source plugin!
</p>
<p class="center inner-padding-10">
  <img class="quick-img" src="assets/sample-source.gif">
</p>
<p>
  For more information about Sources and other things you can do with them like applying <strong>Custom Configuration Object</strong>,
  please check the <a href="tutorials.html#/sourceplugins">Developing Sources</a> tutorials page.
</p>
<hr />

        <a id="extension" name="extension">
          <h2>Create an Extension Plugin</h2>
        </a>
        <p>
          What is an Extension? Extension plugins are tools that you can use to do different kinds of tasks to manipulate
          the XSplit Broadcaster Application. Seen below is a sample scene switching extension and the guide to make it follows.
        </p>
        <p class="center inner-padding-10">
          <img class="quick-img" src="assets/extension_sample.gif">
        </p>
        <p>
          The same way that Source Plugins are created, we also start with setting up an initial HTML file.
          For this one, we'll be creating an extension plugin that would load up all the scenes into buttons,
          that you can use to switch scenes
        </p>
<pre class="language-markup">
<code>
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Sample Scene Switch&lt;/p&gt;
    &lt;div id='scene-id'&gt;
    &lt;/div&gt;
    &lt;script src="js/xjs.js"&gt;&lt;/script&gt;
    &lt;script src="js/main.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code>
</pre>
<p>
  In the above hmtl, the div with id <code>scene-id</code> is where all the detected scenes will be appended.
  We then have the <code>main.js</code> file that would contain the use of the framework.
</p>
<pre class="language-javascript">
<code>var xjs = require('xjs');

xjs.ready()
.then(function(){
  return xjs.Scene.getSceneCount()
}).then(function(count){
  for(var i = 1; i < count + 1; i++){
    xjs.Scene.getById(i).then(function(scene){
      var newElement = document.createElement('BUTTON');
      var t = document.createTextNode('Scene:: '+ (scene._id + 1))
      newElement.appendChild(t)
      document.getElementById('scene-id').appendChild(newElement)
      newElement.addEventListener('click', function(){
        xjs.Scene.setActiveScene(scene._id + 1)
      })
    })
  }
})</code>
</pre>
<p>
  Now, let's dissect the sample code above.
</p>
<p>
  XSplit Broadcaster can have any number of scenes and we can get the current number using <code>getSceneCount</code>.
</p>
<pre class="language-javascript">
<code>
.then(function(){
  return xjs.Scene.getSceneCount()
})</code>
</pre>
<p>
  After we get the scene count from the code above, we use this number to get the id of each scene
  for us to be abple to map into an element.
</p>
<p>
  The code below then gets the scene object using the scene counts as an id.
  with this, we can map each scene and add it on to our extension and assign a button for each scene.
</p>
<pre class="language-javascript">
<code>
xjs.Scene.getById(i).then(function(scene){
  var newElement = document.createElement('BUTTON');
  var t = document.createTextNode('Scene:: '+ (scene._id + 1))
  newElement.appendChild(t)
  document.getElementById('scene-id').appendChild(newElement)
  newElement.addEventListener('click', function(){
    xjs.Scene.setActiveScene(scene._id + 1)
  })
})</code></pre>
<p>
  After assigning each instance of Scene with a button, we also add a click event listener on them and call <code>setActiveScene</code>
  on them to change the scene to clicked scene number on the extension.
</p>
<pre class="language-javascript">
<code>
newElement.addEventListener('click', function(){
  xjs.Scene.setActiveScene(scene._id + 1)
})</code></pre>
<p>
  Once this is all done, you could add your extension. This though, would be different to adding a Source plugin.
  Here, you would need to add it on the Extensions option and then browse the file.
</p>
<p class="center inner-padding-10">
  <img class="quick-img" src="assets/add_ext_1.png">
  <img class="quick-img" src="assets/add_ext_2.png">
</p>
<p>
  After selecting the file, you will then see it on the Extensions option, clicking this would open your Extension on a separate window.
</p>
<p class="center inner-padding-10">
  <img class="quick-img" src="assets/extension_sample.gif">
</p>
<p>
  And there you have it! An extension plugin that contains all your scenes and can also switch scenes.
</p>
<p>
  For more information on the things you can do with Extensions,
  you can read more about it on <a href="tutorials.html#/extensions">Developing Extension Plugins</a> tutorials page.
</p>
<h3>Sample Snippets</h3>

<div class="lightbox-content">
          <!-- SAMPLE SNIPPET 1 -->
          <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='block';document.getElementById('fade').style.display='block'">
            <div class="open-snippet" id="open-snippet">
              Spawning Dialogs
            </div>
          </a>
          <div id="light" class="white_content">
            <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'">Close</a>
            <div class="code-snippet">
<pre class="language-javascript">
<code>
xjs.Dialog.createDialog('https://www.xsplit.com/')
  .setSize(300, 300)
  .setTitle('This is a sample dialog')
  .setBorderOptions(true, false)
  .setButtons(true, true)
  .show()
})</code>
</pre>
              <p>
                Dialog class is used to spawn new browser processes that can be used to open other URLs.
                Source plugins do not have this functionality (but their properties windows may use this.)
              </p>

              <p>
                View more information about the Dialog class on it's <a href="api.html#/window/Dialog">Dialog API</a> page.
              </p>
            </div>
            <div class="code-working">
              <img class="snippet-img" src="assets/quickstart/spawndialog.gif">
            </div>
          </div>

          <!-- SAMPLE SNIPPET 2 -->
          <a href="javascript:void(0)" onclick="document.getElementById('light-4').style.display='block';document.getElementById('fade').style.display='block'">
            <div class="open-snippet" id="open-snippet">
              Start/Stop Stream
            </div>
          </a>
          <div id="light-4" class="white_content">
          <a href="javascript:void(0)" onclick="document.getElementById('light-4').style.display='none';document.getElementById('fade').style.display='none'">Close</a>
            <div class="code-snippet">
<pre class="language-javascript">
<code>button1.addEventListener('click', function(){
  stream.startBroadcast()
})
button2.addEventListener('click', function(){
  stream.stopBroadcast()
})</code>
</pre>
              <p>
                <em>* <code>stream</code> is an instance of an Output that you can get using <code>Output.getOutputList()</code></em>
              </p>
              <p>
                The Output class provides methods to start and stop a stream/recording and pause or unpause a Local Recording.
              </p>

              <p>
                View more information about the Output class on it's <a href="api.html#/core/Output">Ouput API</a> page.
              </p>
            </div>
            <div class="code-working">
              <img class="snippet-img" src="assets/quickstart/stream.gif">
            </div>
          </div>

          <!-- SAMPLE SNIPPET 3 -->
          <a href="javascript:void(0)" onclick="document.getElementById('light-5').style.display='block';document.getElementById('fade').style.display='block'">
            <div class="open-snippet" id="open-snippet">
              Media Control
            </div>
          </a>
          <div id="light-5" class="white_content">
          <a href="javascript:void(0)" onclick="document.getElementById('light-5').style.display='none';document.getElementById('fade').style.display='none'">Close</a>
            <div class="code-snippet">
<pre class="language-javascript">
<code>if(sources[0] instanceof xjs.MediaSource) {
  playBtn.addEventListener('click', function(){
    sources[0].setPlaying(true)
  })

  pauseBtn.addEventListener('click', function(){
    sources[0].setPlaying(false)
  })
}</code>
</pre>
              <p>
                <em>* <code>sources</code> is an instance of a Source that you can get using <code>scene.getSources()</code>.</em>
              </p>
              <p>
                The MediaSource class represents the sources of the media items that has been added to the stage.
              </p>
              <p>
                View more information about the Media Class on it's <a href="api.html#/core/MediaSource">Media Source API</a> page.
              </p>
            </div>
            <div class="code-working">
              <img class="snippet-img" src="assets/quickstart/media.gif">
            </div>
          </div>

          <div id="fade" class="black_overlay"></div>
</div>


<hr />
        <a id="next" name="next">
          <h2>Where to go from here?</h2>
        </a>
        <h3>Check the API</h3>
        <p>
          We highly suggest you check our <a href="api.html">API</a> to further explore on the things you can do using the framework.
          Here, you can check a more detailed information about the Classes and methods that we've used on the examples and all the other
          ones you can still use in the future.
          We are constantly adding features on our framework and the best place to read more about them is here.
        </p>
        <h3>Read more Tutorials</h3>
        <p>
          You can also go ahead and check the <a href="tutorials.html">Tutorial</a> section to know more about the more advanced stuff you can use and do using xjs framework.
          There are also advanced plugin examples there that you might be interested in checking and may find useful.
        </p>
        <p>
          There are also other guides on the tutorials section about the common errors that you may encounter and debugging tips that you may find
          useful while you create your own plugin.
        </p>
        <h3>Take a look at the Plugin Store</h3>
        <p>
          The XSplit Broadcaster App has a <strong>Plugin Store</strong> that already have loads of plugins that you can download and use for free at our Plugin Store,
          and we make a constant effort to make new ones to provide you with the needed tools to make your
          streams and recordings have the elements that you need.
        </p>
        <h3>Contribute</h3>
        <p>
          You may have ideas of your own or have found a bug on the framework, we have an incredible community of developers who are passionate about solving problems and would
          want to listen to your ideas. For this, you could send us some questions or suggestions at <a href="https://github.com/xjsframework/xjs/issues/new">Github</a> or directly chat with us on <a href="https://gitter.im/xjsframework/xjs">Gitter</a>.
        </p>
        <p>
          We hope to hear from you and would love to check out the plugins you've created.
        </p>
        <hr />
        <a id="sample" name="sample">
          <h2>Sample Plugins</h2>
        </a>
        <p>
          Here are a couple of sample plugins that showcases what you can actually do using XSplit JS Framework. You could check out the source code to get a better understanding on how the plugin works.
        </p>
        <h3><em>Scene Rotator Extension plugin</em></h3>
        <p>
          This plugin demonstrates what you can do on Extension plugins. The Scene Rotator plugin would automatically switch to the specified scenes after the given interval. Please do check out the source code at <a href="https://github.com/xjsframework/scene-rotator" target="_blank">github</a>.
        </p>
        <h3><em>Source Toggler Source plugin</em></h3>
        <p>
          This plugin demonstrates what you can do on Source plugins, specifically on how source plugins modify other item sources' properties. The Source Toggler plugin would allow the user to attach two other sources and then modify its position and rotation properties. Please do check out the source code at <a href="https://github.com/xjsframework/source-toggler" target="_blank">github</a>.
        </p>
        <h3><em>Twitch Chat Viewer via Twitch Chat Popout</em></h3>
        <p>
          This plugin demonstrates a different take on doing plugins. This involves injecting custom javascript and css to style and add configurability to an already existing webpage. Please do check out the source code at <a href="https://github.com/xjsframework/twitch-chat-viewer-popout" target="_blank">github</a>.
        </p>
      </div>
    </div>
    <xsplit-copyright></xsplit-copyright>
  </body>
</html>
